<!doctype html>
<html lang="en">
  <head>
    <%- include("../partials/head") %>
    <style>
      aside.editTodo {
        text-align: center;
        background-color: rgba(224, 226, 199, 0.8);
        padding: 30px;
        border-radius: 20px;
        width: 40%;
        border: rgba(154, 158, 103, 0.3) solid thin;
        box-shadow: 0 0 20px 0 rgba(154, 158, 103, 0.4);
      }

      section.editTodo h1 {
        font-size: 45px;
        color: #333;
        font-weight: 400;
        margin-bottom: 20px;
      }

      .formGroup {
        text-align: start;
        margin: 10px 0;
        border-bottom: #9e5555 solid 2px;
        padding: 8px 10px;
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
      }

      #nameError {
        color: #ff0000;
        font-size: 14px;
      }

      .formGroup label {
        font-size: 18;
        width: 20%;
        font-weight: 400;
      }

      input[type="text"],
      textarea,
      input[type="date"] {
        width: 90%;
        font-size: 16;
        border: none;
        background-color: transparent;
        outline: none;
      }

      button[type="submit"] {
        width: 100%;
        padding: 10px 0;
        margin-top: 10px;
        border-radius: 3px;
        border: none;
        font-weight: 400;
        font-size: 18px;
        color: #fff;
        background: linear-gradient(230deg,#cc8787, #8d8dc2 );
        cursor: pointer;
      }

      .editTodo #redirectHomepage {
        padding: 10px 5px;
        border-radius: 3px;
        border: none;
        font-weight: 400;
        font-size: 18px;
        color: #fff;
        background: linear-gradient(230deg,#cc8787, #8d8dc2 );
        cursor: pointer;
        text-decoration: none;
      }
    </style>
  </head>
  <body>
    <main>
      <aside class="editTodo">
      <%- include("../partials/redirectHome") %>
      <h1>Edit Todo list Section</h2>
        <form action="/api/v1/todo-management/todos/<%= todoWithId.id %>" method="post">
          <div class="formGroup" >
            <label for="name"> * Name:</label>
            <input
              type="text"
              name="name"
              id="name"
              value="<%= todoWithId.name %>"
              placeholder="Set Name here!"
              autocomplete="off"
              required
              aria-required="true"
              pattern=".{3,}" 
              title="Please enter at least 3 characters"
            />
          </div>
          <span id="nameError"></span>
          <div class="formGroup">
            <label for="description"> * Description:</label>
            <textarea
              name="description"
              placeholder="Set Description here!"
              rows="5"
              cols="3"
              autocomplete="off"
              id="description"
              style="resize: none;"
              required
              aria-required="true"
            ><%= todoWithId.description %></textarea>
          </div>
          <span id="descriptionError"></span>
          <div class="formGroup">
            <label for="isComplete"> Complete Status : </label>

            <% if(!todoWithId.isComplete) {%>
                <input type="checkbox" id="isComplete" name="isComplete" value="off" !checked/>
            <%} else{ %>
                <input type="checkbox" id="isComplete" name="isComplete" value="on" checked/>
            <%} %>
          </div>
          <div class="formGroup">
            <label for="date">* Date: </label>
            <input type="date" id="date" name="date" min="2023-01-01" max="2025-01-01" value="<%= formattedDate %>" required aria-required="true"/>
          </div>
          <span id="dateError"></span>
          <button type="submit">Edit todo</button>
        </form>
      </aside>
    </main>
  </body>
</html>
